(()=>{"use strict";let e=[],t=0;const n=n=>{const c=new function(e){this.title=e,this.id=t++,this.projectsToDos=[]}(n);e.push(c)};let c=0,o=0,d=0;const i=()=>{const e=document.getElementById("input"),t=document.createElement("div");t.classList.add("project-divs"),t.dataset.tabContent="",t.id=`project${o}`;const c=document.createElement("h2");c.innerHTML=e.value+" List:";const i=document.createElement("button");if(i.classList.add("add-new-project-todo"),i.innerHTML="+ Add new ",t.appendChild(c),t.appendChild(i),document.querySelector(".main").appendChild(t),""!=e.value){n(e.value);const t=document.querySelector(".projects"),c=document.createElement("li");c.id=d++,c.classList.add("project-container");const i=document.createElement("button"),l=document.createElement("span"),r=document.createElement("img");r.src="./images/trash-outline.svg",r.classList.add("delete-Project"),l.classList.add("project-span"),l.innerHTML="0",i.innerHTML=e.value,i.classList.add("dynamic-project"),i.dataset.tabTarget=`#project${o}`,c.appendChild(i),c.appendChild(l),c.appendChild(r),t.appendChild(c),o++}},l=()=>{document.querySelector(".new-todo-container").classList.add("active"),document.querySelector(".add-todo").addEventListener("click",a),document.querySelector(".cancel-todo").addEventListener("click",r)},r=()=>{const e=document.querySelector(".new-todo-container"),t=document.getElementById("title"),n=document.getElementById("date"),c=document.querySelectorAll(".priority");t.value="",n.value="",e.classList.remove("active"),c.forEach((e=>{e.checked&&(e.checked=!1)}))},a=()=>{let e;const t=document.getElementById("title"),n=document.getElementById("date");document.querySelectorAll(".priority").forEach((t=>{t.checked&&(e=t.id)})),""!=t.value&&s(t,n,e)},s=(t,n,o)=>{const d=document.getElementById("home"),i=document.createElement("input");i.type="checkbox",i.classList.add("checkbox");const l=document.createElement("div");l.classList.add("todo-div"),c++,l.id=c;const r=document.createElement("p"),a=document.createElement("p"),s=document.createElement("img");s.classList.add("delete"),r.innerHTML=t.value,a.innerHTML=n.value,s.src="./images/trash-outline.svg",l.appendChild(i),l.appendChild(r),l.appendChild(a),l.appendChild(s),d.appendChild(l),E(o,l),function(t,n,o){function d(e,t,n){this.title=e,this.dueDate=t,this.priority=n,this.id=g++}d.prototype.display=function(){console.log(`task is ${this.title}, date is ${this.dueDate}, priority is ${this.priority}`)};const i=new d(t,n,o);var l;y.push(i),l=y.length,document.getElementById("home"),document.querySelectorAll(".number-of-todo")[0].innerHTML=l,function(e,t){let n=new Date,c=n.getMonth()+1,o=n.getDate(),d=n.getFullYear();c<10&&(c=c.toString().padStart(2,"0")),o<10&&(o=o.toString().padStart(2,"0")),`${d}-${c}-${o}`===e&&(v.push(t),u(t)),function(e){document.getElementById("today"),document.querySelectorAll(".number-of-todo")[1].innerHTML=e}(v.length)}(n,i),function(e,t){let n=new Date(e),c=new Date,o=new Date;o.setDate(o.getDate()+7),n>=c&&n<=o&&(f.push(t),m(t)),function(e){document.getElementById("week"),document.querySelectorAll(".number-of-todo")[2].innerHTML=e}(f.length)}(n,i),window.document.querySelectorAll(".project-divs").forEach(((t,n)=>{if(t.classList.contains("active")){let a=(r=i,e[l=n].projectsToDos.push(r),e[l].projectsToDos.length);!function(e,t){const n=document.createElement("input");n.type="checkbox",n.classList.add("checkbox");const o=document.createElement("div");o.classList.add("todo-div"),o.id=c;const d=document.createElement("p"),i=document.createElement("p"),l=document.createElement("img");l.classList.add("delete"),d.innerHTML=t.title,i.innerHTML=t.value,l.src="./images/trash-outline.svg",o.appendChild(n),o.appendChild(d),o.appendChild(i),o.appendChild(l),window.document.querySelectorAll(".project-divs").forEach((t=>{t.id==e&&t.appendChild(o)})),E(t.priority,o)}(t.id,i),o=n,d=a,window.document.querySelectorAll(".project-span").forEach(((e,t)=>{t==o&&(e.innerHTML=d)}))}var o,d,l,r}))}(t.value,n.value,o)},u=e=>{const t=document.getElementById("today"),n=document.createElement("input");n.type="checkbox",n.classList.add("checkbox");const o=document.createElement("div");o.classList.add("todo-div"),o.id=c;const d=document.createElement("p"),i=document.createElement("p"),l=document.createElement("img");l.classList.add("delete"),d.innerHTML=e.title,i.innerHTML=date.value,l.src="./images/trash-outline.svg",o.appendChild(n),o.appendChild(d),o.appendChild(i),o.appendChild(l),t.appendChild(o),E(e.priority,o)},m=e=>{const t=document.getElementById("week"),n=document.createElement("input");n.type="checkbox",n.classList.add("checkbox");const o=document.createElement("div");o.classList.add("todo-div"),o.id=c;const d=document.createElement("p"),i=document.createElement("p"),l=document.createElement("img");l.classList.add("delete"),d.innerHTML=e.title,i.innerHTML=date.value,l.src="./images/trash-outline.svg",o.appendChild(n),o.appendChild(d),o.appendChild(i),o.appendChild(l),t.appendChild(o),E(e.priority,o)};function p(e){const t=document.querySelectorAll(".todo-div"),n=document.querySelectorAll("[data-tab-content]");t.forEach((t=>{n.forEach(((n,c)=>{n.contains(t)&&t.id===e&&n.removeChild(t)}))}))}function h(e,t){window.document.querySelectorAll(".project-span").forEach(((n,c)=>{e==c&&(n.innerHTML=t)}))}function E(e,t){"high-priority"===e?t.style.backgroundColor="rgb(176, 51, 42)":"medium-priority"===e?t.style.backgroundColor="rgb(224, 177, 94)":"low-priority"===e&&(t.style.backgroundColor="rgba(118, 204, 128, 1)")}let y=[],v=[],f=[],g=1;function L(t,n){y.forEach(((e,n)=>{var c;t==e.id&&y.splice(n,1),c=y.length,document.getElementById("home"),document.querySelectorAll(".number-of-todo")[0].innerHTML=c})),v.forEach(((e,n)=>{var c;t==e.id&&v.splice(n,1),c=v.length,document.getElementById("today"),document.querySelectorAll(".number-of-todo")[1].innerHTML=c})),f.forEach(((e,n)=>{var c;t==e.id&&f.splice(n,1),c=f.length,document.getElementById("week"),document.querySelectorAll(".number-of-todo")[2].innerHTML=c})),1!=n&&function(t){let n,c=0;window.document.querySelectorAll(".dynamic-project").forEach(((e,t)=>{e.classList.contains("active")&&(n=t)})),n||0==n||e.forEach(((n,o)=>{e[o].projectsToDos.forEach(((n,d)=>{n.id==t&&(e[o].projectsToDos.splice(d,1),h(o,e[o].projectsToDos.length),c=1)}))})),0===c&&(n||0==n)&&(e[n].projectsToDos.forEach(((c,o)=>{t==c.id&&e[n].projectsToDos.splice(o,1)})),h(n,e[n].projectsToDos.length))}(t)}document.querySelector(".new-project-btn").addEventListener("click",(function(){(()=>{const e=document.querySelector(".new-project-input");e.classList.add("hidden"),document.querySelector(".add-project").addEventListener("click",i),document.querySelector(".cancel-project").addEventListener("click",(function(){e.classList.remove("hidden")}))})()})),document.querySelectorAll("[data-tab-target]").forEach((e=>{e.addEventListener("click",(()=>{const t=window.document.querySelectorAll("[data-tab-target"),n=window.document.querySelectorAll("[data-tab-content]"),c=window.document.querySelector(e.dataset.tabTarget);n.forEach((e=>e.classList.remove("active"))),t.forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),c.classList.add("active")}))})),document.addEventListener("click",(function(e){const t=e.target.closest(".dynamic-project"),n=document.querySelectorAll("[data-tab-target]"),c=document.querySelectorAll("[data-tab-content]");if(t){const e=document.querySelector(t.dataset.tabTarget);c.forEach((e=>e.classList.remove("active"))),n.forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),t.classList.add("active")}})),document.querySelector(".new-todo").addEventListener("click",(function(){l()})),document.addEventListener("click",(function(e){const t=e.target.closest(".checkbox");if(t)if(!1===t.checked)console.log(!1===t.checked),function(e){document.querySelectorAll(".todo-div").forEach((t=>{t.id===e&&(t.style.textDecoration="none",!0===t.firstChild.checked&&(t.firstChild.checked=!1))}))}(t.parentElement.id);else{let e=t.parentElement.id;console.log("value is "+t.value),function(e){document.querySelectorAll(".todo-div").forEach((t=>{t.id===e&&(t.style.textDecoration="line-through",!1===t.firstChild.checked&&(t.firstChild.checked=!0))}))}(e)}})),document.addEventListener("click",(function(e){const t=e.target.closest(".delete");if(t){let e=t.parentElement.id;L(t.parentElement.id),p(e)}})),window.document.addEventListener("click",(function(e){e.target.closest(".add-new-project-todo")&&l()})),window.document.addEventListener("click",(function(t){const n=t.target.closest(".delete-Project");n&&(function(e){const t=window.document.querySelectorAll(".project-container"),n=window.document.querySelectorAll(".project-divs"),c=document.querySelector(".projects"),o=document.querySelector(".main");t.forEach(((t,d)=>{if(e==t.id){let e=[];c.removeChild(t);const i=n[d].children;for(let t=0;t<i.length;t++)e[t]=i[t].id;e.forEach(((e,t)=>{p(e)})),o.removeChild(n[d])}}))}(n.parentElement.id),function(t){e.forEach(((n,c)=>{n.id==t&&(n.projectsToDos.forEach(((e,t)=>{L(e.id,1)})),e.splice(c,1))}))}(n.parentElement.id))})),document.querySelector(".add-note").addEventListener("click",(function(e){!function(){const e=document.createElement("div");e.classList.add("note-container");const t=document.createElement("div");t.contentEditable=!0,e.appendChild(t),document.querySelector(".note-page").append(e)}()}))})();