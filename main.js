(()=>{"use strict";let e=[],t=0;const o=o=>{const n=new function(e){this.title=e,this.id=t++,this.projectsToDos=[]}(o);e.push(n)};let n=0,c=0;const d=()=>{const e=document.getElementById("input"),t=document.createElement("div");t.classList.add("project-divs"),t.dataset.tabContent="",t.id=`project${c}`;const n=document.createElement("h2");n.innerHTML=e.value+" List:";const d=document.createElement("button");d.classList.add("add-new-project-todo"),d.innerHTML="+ Add new ",t.appendChild(n),t.appendChild(d),document.querySelector(".main").appendChild(t),o(e.value);const r=document.querySelector(".projects"),i=document.createElement("li"),l=document.createElement("button"),a=document.createElement("span");a.classList.add("project-span"),a.innerHTML="0",l.innerHTML=e.value,l.classList.add("dynamic-project"),l.dataset.tabTarget=`#project${c}`,i.appendChild(l),i.appendChild(a),r.appendChild(i),c++},r=()=>{document.querySelector(".new-todo-container").classList.add("active"),document.querySelector(".add-todo").addEventListener("click",l),document.querySelector(".cancel-todo").addEventListener("click",i)},i=()=>{const e=document.querySelector(".new-todo-container"),t=document.getElementById("title"),o=document.getElementById("date"),n=document.querySelectorAll(".priority");t.value="",o.value="",e.classList.remove("active"),n.forEach((e=>{e.checked&&(e.checked=!1)}))},l=()=>{let e;const t=document.getElementById("title"),o=document.getElementById("date");document.querySelectorAll(".priority").forEach((t=>{t.checked&&(e=t.id)})),""!=t.value&&a(t,o,e)},a=(t,o,c)=>{const d=document.getElementById("home"),r=document.createElement("input");r.type="checkbox",r.classList.add("checkbox");const i=document.createElement("div");i.classList.add("todo-div"),n++,i.id=n;const l=document.createElement("p"),a=document.createElement("p"),m=document.createElement("img");m.classList.add("delete"),l.innerHTML=t.value,a.innerHTML=o.value,m.src="../images/trash-outline.svg",i.appendChild(r),i.appendChild(l),i.appendChild(a),i.appendChild(m),d.appendChild(i),i.style.backgroundColor="high-priority"===c?"red":"medium-priority"===c?"orange":"low-priority"===c?"green":"white",function(t,o,c){function d(e,t,o){this.title=e,this.dueDate=t,this.priority=o,this.id=g++}d.prototype.display=function(){console.log(`task is ${this.title}, date is ${this.dueDate}, priority is ${this.priority}`)};const r=new d(t,o,c);var i;p.push(r),i=p.length,document.getElementById("home"),document.querySelectorAll(".number-of-todo")[0].innerHTML=i,function(e,t){let o=new Date,n=o.getMonth()+1,c=o.getDate(),d=o.getFullYear();n<10&&(n=n.toString().padStart(2,"0")),c<10&&(c=c.toString().padStart(2,"0")),`${d}-${n}-${c}`===e&&(h.push(t),s(t)),function(e){document.getElementById("today"),document.querySelectorAll(".number-of-todo")[1].innerHTML=e}(h.length)}(o,r),function(e,t){let o=new Date(e),n=new Date,c=new Date;c.setDate(c.getDate()+7),o>=n&&o<=c&&(y.push(t),u(t)),function(e){document.getElementById("week"),document.querySelectorAll(".number-of-todo")[2].innerHTML=e}(y.length)}(o,r);window.document.querySelectorAll(".project-divs").forEach(((t,o)=>{if(t.classList.contains("active")){let o=function(t,o){let n=t.toString().charAt(t.length-1);return e[Number(n)].projectsToDos.push(o),e[Number(n)].projectsToDos.length}(t.id,r);!function(e,t){const o=document.createElement("input");o.type="checkbox",o.classList.add("checkbox");const c=document.createElement("div");c.classList.add("todo-div"),c.id=n;const d=document.createElement("p"),r=document.createElement("p"),i=document.createElement("img");i.classList.add("delete"),d.innerHTML=t.title,r.innerHTML=t.value,i.src="../images/trash-outline.svg",c.appendChild(o),c.appendChild(d),c.appendChild(r),c.appendChild(i),window.document.querySelectorAll(".project-divs").forEach((t=>{t.id==e&&t.appendChild(c)})),"high-priority"===t.priority?c.style.backgroundColor="red":"medium-priority"===t.priority?c.style.backgroundColor="orange":"low-priority"===t.priority?c.style.backgroundColor="green":c.style.backgroundColor="white"}(t.id,r),c=t.id.toString().charAt(t.id.length-1),d=o,window.document.querySelectorAll(".project-span").forEach(((e,t)=>{t==c&&(e.innerHTML=d)}))}var c,d}))}(t.value,o.value,c)},s=e=>{const t=document.getElementById("today"),o=document.createElement("input");o.type="checkbox",o.classList.add("checkbox");const c=document.createElement("div");c.classList.add("todo-div"),c.id=n;const d=document.createElement("p"),r=document.createElement("p"),i=document.createElement("img");i.classList.add("delete"),d.innerHTML=e.title,r.innerHTML=date.value,i.src="../images/trash-outline.svg",c.appendChild(o),c.appendChild(d),c.appendChild(r),c.appendChild(i),t.appendChild(c),"high-priority"===e.priority?c.style.backgroundColor="red":"medium-priority"===e.priority?c.style.backgroundColor="orange":"low-priority"===e.priority?c.style.backgroundColor="green":c.style.backgroundColor="white"},u=e=>{const t=document.getElementById("week"),o=document.createElement("input");o.type="checkbox",o.classList.add("checkbox");const c=document.createElement("div");c.classList.add("todo-div"),c.id=n;const d=document.createElement("p"),r=document.createElement("p"),i=document.createElement("img");i.classList.add("delete"),d.innerHTML=e.title,r.innerHTML=date.value,i.src="../images/trash-outline.svg",c.appendChild(o),c.appendChild(d),c.appendChild(r),c.appendChild(i),t.appendChild(c),"high-priority"===e.priority?c.style.backgroundColor="red":"medium-priority"===e.priority?c.style.backgroundColor="orange":"low-priority"===e.priority?c.style.backgroundColor="green":c.style.backgroundColor="white"};function m(e,t){window.document.querySelectorAll(".project-span").forEach(((o,n)=>{e==n&&(o.innerHTML=t)}))}let p=[],h=[],y=[],g=1;document.querySelector(".new-project-btn").addEventListener("click",(function(){(()=>{const e=document.querySelector(".new-project-input");e.classList.add("hidden"),document.querySelector(".add-project").addEventListener("click",d),document.querySelector(".cancel-project").addEventListener("click",(function(){e.classList.remove("hidden")}))})()})),document.querySelectorAll("[data-tab-target]").forEach((e=>{e.addEventListener("click",(()=>{const t=window.document.querySelectorAll("[data-tab-target"),o=window.document.querySelectorAll("[data-tab-content]"),n=window.document.querySelector(e.dataset.tabTarget);o.forEach((e=>e.classList.remove("active"))),t.forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),n.classList.add("active")}))})),document.addEventListener("click",(function(e){const t=e.target.closest(".dynamic-project"),o=document.querySelectorAll("[data-tab-target]"),n=document.querySelectorAll("[data-tab-content]");if(t){const e=document.querySelector(t.dataset.tabTarget);n.forEach((e=>e.classList.remove("active"))),o.forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),t.classList.add("active")}})),document.querySelector(".new-todo").addEventListener("click",(function(){r()})),document.addEventListener("click",(function(e){const t=e.target.closest(".checkbox");if(t)if(!1===t.checked)console.log(!1===t.checked),function(e,t){document.querySelectorAll(".todo-div").forEach((e=>{e.id===t&&(e.style.textDecoration="none",!0===e.firstChild.checked&&(e.firstChild.checked=!1))}))}(0,t.parentElement.id);else{let e=t.parentElement.id;console.log("value is "+t.value),function(e,t){const o=document.querySelectorAll(".todo-div");document.querySelectorAll(".checkbox"),o.forEach((e=>{e.id===t&&(e.style.textDecoration="line-through",!1===e.firstChild.checked&&(e.firstChild.checked=!0))}))}(0,e)}})),document.addEventListener("click",(function(t){const o=t.target.closest(".delete");if(o){let t=o.parentElement.id;(function(t){p.forEach(((e,o)=>{var n;t==e.id&&p.splice(o,1),n=p.length,document.getElementById("home"),document.querySelectorAll(".number-of-todo")[0].innerHTML=n})),h.forEach(((e,o)=>{var n;t==e.id&&h.splice(o,1),n=h.length,document.getElementById("today"),document.querySelectorAll(".number-of-todo")[1].innerHTML=n})),y.forEach(((e,o)=>{var n;t==e.id&&y.splice(o,1),n=y.length,document.getElementById("week"),document.querySelectorAll(".number-of-todo")[2].innerHTML=n})),function(t){let o,n=0;const c=window.document.querySelectorAll(".dynamic-project");window.document.querySelectorAll("data-tab-content"),c.forEach(((e,t)=>{e.classList.contains("active")&&(o=t)})),o||0==o||e.forEach(((o,c)=>{e[c].projectsToDos.forEach(((o,d)=>{if(o.id==t){let t=e[c].projectsToDos.splice(d,1);m(c,e[c].projectsToDos.length),console.log(t),n=1}}))})),0===n&&(o||0==o)&&(e[o].projectsToDos.forEach(((n,c)=>{if(t==n.id){let t=e[o].projectsToDos.splice(c,1);console.log(t)}})),m(o,e[o].projectsToDos.length))}(t)})(o.parentElement.id),function(e,t){const o=document.querySelectorAll(".todo-div"),n=(document.getElementById("home"),document.getElementById("today"),document.getElementById("week"),document.querySelectorAll("[data-tab-content]"));window.document.querySelectorAll(".dynamic-project"),o.forEach((e=>{n.forEach(((o,n)=>{o.contains(e)&&e.id===t&&o.removeChild(e)}))}))}(0,t)}})),window.document.addEventListener("click",(function(e){e.target.closest(".add-new-project-todo")&&r()}))})();